{% extends 'layout.html.twig' %}

{% block title %}Modification Utilisateur{% endblock %}

{% block content %}
    <h2 class="text-center">{{ block('title') }}</h2>

    {% if form_errors(userForm.password.first) %}
        <div class="alert alert-danger">
            {{ form_errors(userForm.password.first) }}
        </div>
    {% endif %}

    <div class="well" id="contenu-modif-utilisateur">
        <h5 class="pull-right">* champs obligatoires</h5>
        {{ form_start(userForm, { 'attr': {'class': 'form-horizontal'} }) }}
        <div class="form-group">
            {{ form_label(userForm.nom, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.nom) }}
                {{ form_widget(userForm.nom, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.prenom, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.prenom) }}
                {{ form_widget(userForm.prenom, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.email, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.email) }}
                {{ form_widget(userForm.email, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.username, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.username) }}
                {{ form_widget(userForm.username, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control'
                }}) }}
            </div>
        </div>

        <div class="form-group">
            {{ form_label(userForm.password.first, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_widget(userForm.password.first, { 'attr':  {
                    'class': 'form-control'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.password.second, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_widget(userForm.password.second, { 'attr':  {
                    'class': 'form-control'
                }}) }}
            </div>
        </div>

        <div class="form-group">
            {{ form_label(userForm.description, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.description) }}
                {{ form_widget(userForm.description, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control',
                    'rows':'4'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.promo, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.promo) }}
                {{ form_widget(userForm.promo, { 'attr':  {
                    'rows': '1',
                    'class': 'form-control'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            {{ form_label(userForm.photo, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.photo) }}
                {{ form_widget(userForm.photo, { 'attr':  {
                    'rows': '1'
                }}) }}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-5 control-label">La photo de profil actuelle</label>
            <div class="col-sm-4">
                <img src="/images/photo-profil/{{ app.user.photo }}">
            </div>
        </div>

        <div class="form-group">
            {{ form_label(userForm.role, null, { 'label_attr':  {
                'class': 'col-sm-5 control-label'
            }}) }}
            <div class="col-sm-4">
                {{ form_errors(userForm.role) }}
                {{ form_widget(userForm.role, { 'attr':  {
                    'rows': '1'
                }}) }}
            </div>
        </div>

        <div class="form-group">
            <div class="boutons-modif-stage">
                <div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
                    <button type="submit" class="bouton-enregistrer btn btn-primary"> Enregistrer</button>
                    <button class="bouton-annuler btn pull-right" data-toggle="modal" data-target="#myModal">Annuler
                    </button>
                </div>

                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-hidden="true">&times;</button>
                                <h4 class="modal-title" id="myModalLabel">Confirmation demandée </h4>
                            </div>
                            <div class="modal-body">
                                Êtes-vous sûr(e) de vouloir quitter la page ? Les informations ne seront pas
                                sauvegardées.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                                <a href="{{ path('admin') }}" class="btn btn-danger">Confirmer</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        {{ form_end(userForm) }}

    </div>
{% endblock %}